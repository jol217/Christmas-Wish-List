<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Sign Up</title>
    </head>
    <body>
        <h1>Sign Up</h1>
      
            <label>Username:</label>
            <input type="text" name="username" id="uName"></input><br>
            <label>Email:</label>
            <input type="email" name="email" id="uEmail"></input><br>
            <label>Password:</label>
            <input type="password" name="password" id="uPassword"></input><br>
            <label>Re-enter Password:</label>
            <input type="password"></input><br>
            <button onclick="handleSignUp()">Sign Up</button>
      
      <script>
            let uName = document.getElementById("uName");
            let uEmail = document.getElementById("uEmail");
            let uPassword = document.getElementById("uPassword");

            function handleSignUp(){
                let name = encodeURIComponent(uName.value);
                let email = encodeURIComponent(uEmail.value);
                let password = encodeURIComponent(uPassword.value);
                let data = 'username=' + name + '&email=' + email + '&password=' + password;

                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function(){
                    if(this.readyState == 4 && this.status == 200){
                        console.log(xhttp.responseText);
                        location.replace('login.html');
                    }
                };
                xhttp.open("POST", "http://fa19server.appspot.com/api/Users", true);
                xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                xhttp.send(data);
            }
        </script>
    </body>
</html>